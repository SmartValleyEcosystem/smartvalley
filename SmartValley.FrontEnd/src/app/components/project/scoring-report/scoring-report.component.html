<div *ngIf="scoringStatus !== 2 && !isAuthor" class="content empty-result">
  <p>{{ 'ScoringReport.ProjectHaventScored' | translate }}</p>
</div>

<div *ngIf="scoringStatus === 0 && isAuthor" class="content empty-result">
  <p>{{ 'ScoringReport.ProjectHaventScored' | translate }}</p>
  <button (click)="navigateToApplicationScoringAsync()" class="main-btn">{{ 'ScoringReport.GetScore' | translate }}</button>
</div>

<div *ngIf="scoringStatus === 1 && isAuthor" class="content empty-result">
  <p>{{ 'ScoringReport.ReportAppearAfterAllFinished' | translate }}</p>
  <ul class="progress-scoring-list">
    <li *ngFor="let scoringInfo of areasScoringInfo" class="progress-scoring-item">
      <h2 class="settings-title">{{scoringInfo.areaName}}</h2>
      <div class="total">
        <p>{{ 'ScoringReport.Finished' | translate }} <span class="total-score">{{getFinishedExperts(scoringInfo.areaType)}}</span></p>
        <p>{{ 'ScoringReport.TotalExperts' | translate }} <span class="total-score">{{ scoringInfo.scoringInfo.requiredExpertsCount }}</span></p>
      </div>
      <div class="total-progress-bar">
        <div class="total-progress-bar__ready" [style.width.%]="(getFinishedExperts(scoringInfo.areaType) * 100) / scoringInfo.scoringInfo.requiredExpertsCount"></div>
      </div>
    </li>
  </ul>
</div>

<mat-tab-group *ngIf="scoringStatus === 2" class="report-tab" (selectChange)="onTabChange()">
    <mat-tab *ngFor="let scoringInfo of areasScoringInfo" label="{{ scoringInfo.areaName }}">
    <ng-template mat-tab-label>
      <div class="label-wrapper">
        <p class="label-name">
          {{ scoringInfo.areaName }}
        </p>
        <p class="label-score">
          {{scoringInfo.scoringInfo.score}}<span class="max-score">/{{getMaxScoreByArea(scoringInfo.areaType)}}</span>
        </p>
      </div>
    </ng-template>
    <div class="content">
      <h2 class="settings-title">{{ scoringInfo.areaName }}</h2>
      <div class="scoring-question" *ngFor="let criteria of scoringInfo.scoringInfo.criteria; let index = index;"
           class="criteria settings-block"
           [attr.data-selected]="false"
           (click)="chageActiveQuestion(index)"
           [class.active-question]="questionsActivity[index]">
        <div class="question-tooltip" *ngIf="criterionPrompts" >
          <h3 class="question-tooltip__title">{{ 'ScoringReport.ProjectOwnerAnswer' | translate }}</h3>
          <div *ngFor="let info of getCriterionInfo(criteria.scoringCriterionId)">
            <p *ngIf="info.title" class="info-title">{{ ('EditScoringApplication.' + info.title) | translate }}</p>
            <p class="info-description">{{ info.answer | translateBinaryAnswer }}</p>

            <div *ngIf="info.projectAdvisers" class="advisers-wrapper">
              <div class="adviser" *ngFor="let adviser of info.projectAdvisers">
                <p class="info-title">
                  {{ adviser.fullName }}
                </p>
                <p class="info-description">
                  {{ adviser.about }}
                </p>
                <div class="member-socials">
                  <a *ngIf="adviser.linkedInLink" href="{{adviser.linkedInLink}}" target="_blank" class="social-icon social-icon__linkedin"></a>
                  <a *ngIf="adviser.facebookLink" href="{{adviser.facebookLink}}" target="_blank" class="social-icon social-icon__facebook"></a>
                </div>
              </div>
            </div>

            <div *ngIf="info.projectTeamMembers" class="advisers-wrapper">
              <div class="adviser" *ngFor="let member of info.projectTeamMembers">
                <p class="info-title">
                  {{ member.fullName }}
                </p>
                <p class="info-description">
                  {{ member.about }}
                </p>
                <div class="member-socials">
                  <a *ngIf="member.linkedIn" href="{{member.linkedIn}}" target="_blank" class="social-icon social-icon__linkedin"></a>
                  <a *ngIf="member.facebook" href="{{member.facebook}}" target="_blank" class="social-icon social-icon__facebook"></a>
                </div>
              </div>
            </div>

          </div>
        </div>
        <p *ngIf="criterionIsReady" class="question">{{ index + 1 }}. {{ getQuestionById(criteria.scoringCriterionId) }}</p>
        <table class="scoring-results">
          <thead>
            <tr>
              <td>{{ 'ScoringReport.Expert' | translate }}</td>
              <td>{{ 'ScoringReport.Score' | translate }}</td>
              <td>{{ 'ScoringReport.Comments' | translate }}</td>
            </tr>
          </thead>
          <tr *ngFor="let estimate of criteria.estimates; let estimateIndex = index;">
            <td>{{ 'ScoringReport.Expert' | translate }} {{ estimateIndex + 1 }}</td>
            <td class="score_{{ estimate.score }}">{{ estimate.score }}</td>
            <td>{{ estimate.comment }}</td>
          </tr>
        </table>
      </div>
    </div>
  </mat-tab>
</mat-tab-group>
