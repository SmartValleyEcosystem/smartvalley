<div *ngIf="event.project" class="event-card">
  <div class="event-card__title">{{event.name}}</div>
  <div class="event-card__top-info">
    <div class="project-avatar">
      <img src="{{ imageUrl() }}" alt="">
      <span class="scoring">
        <span *ngIf="event.project.scoring">{{ event.project.scoring.score | dashIfEmpty }}</span>
        <span *ngIf="!event.project.scoring">&mdash;</span>
        <span class="light-color ">/ 100</span></span>
    </div>
    <div class="project-info">
      <div class="project-title"><a [routerLink]="getProjectLink(event.projectId)">{{ event.project.name }}</a></div>
      <div class="project-distribute">
        <span class="light-label">{{ 'FreeTokenPlace.TokensToDistribute' | translate }}</span>
        <div>{{ tokenBalance | formatNumber }} {{ event.tokenTicker }}</div>
      </div>
      <div class="project-bets">
        <span class="light-label">{{ 'FreeTokenPlace.TotalBet' | translate }}</span>
        <div> {{ myBet | formatNumber }} / {{ totalBet | formatNumber }} SVT</div>
      </div>
    </div>
  </div>
  <div class="event-card__timer">
    <span *ngIf="!myBet" class="light-label light-label_small">{{ 'FreeTokenPlace.MyPotentialShare' | translate }}</span>
    <div *ngIf="!myBet">{{ balance.svt/(balance.svt + totalBet) | formatNumber }} {{ event.tokenTicker }} ( {{ getPercentShare() | formatNumber }} %)</div>
    <span *ngIf="myBet" class="light-label light-label_small">{{ 'FreeTokenPlace.ActualShare' | translate }}</span>
    <div *ngIf="myBet">{{ myBet/(totalBet) | formatNumber }} {{ event.tokenTicker }} ({{ getPercentShare() | formatNumber }}%)</div>
    <div class="timer" [class.timer_finished]="finished">
      <div class="timer__info" *ngIf="!finished">{{ 'FreeTokenPlace.TheEventEndsIn' | translate }}</div>
      <div class="timer__info" *ngIf="finished">{{ 'FreeTokenPlace.TheEventWasEnd' | translate }}</div>
      <div *ngIf="finished" class="timer__numbers">
        <div class="time-number time-number__finished">
          {{ event.finishDate | date: 'dd.MM.yy' }}
        </div>
      </div>
      <div *ngIf="!finished" class="timer__numbers">
        <div *ngIf="event.timer.days > 0" class="time-number">
          {{ event.timer.days }}
          <div class="timer__labels">{{ 'FreeTokenPlace.Days' | translate }}</div>
        </div>
        <div *ngIf="event.timer.days > 0 || event.timer.hours > 0" class="time-number">
          {{ event.timer.hours }}
          <div class="timer__labels">{{ 'FreeTokenPlace.Hours' | translate }}</div>
        </div>
        <div *ngIf="event.timer.days == 0" class="time-number">
          {{ event.timer.minutes }}
          <div class="timer__labels">{{ 'FreeTokenPlace.Minutes' | translate }}</div>
        </div>
        <div *ngIf="event.timer.days == 0 && event.timer.hours == 0" class="time-number">
          {{ event.timer.seconds }}
          <div class="timer__labels">{{ 'FreeTokenPlace.Seconds' | translate }}</div>
        </div>
      </div>
    </div>
  </div>
  <div class="event-card__footer">
    <span hidden="hidden" class="light-label light-label_small">Awaiting transaction</span>
    <div *ngIf="!finished" class="start-btn-wrapper">
      <button *ngIf="!myBet" (click)="showParticipateDialogAsync(balance, event)" class="material-btn">{{ 'FreeTokenPlace.Participate' | translate }}</button>
      <button *ngIf="myBet" (click)="showParticipateDialogAsync(balance, event)" class="material-btn material-btn__action">{{ 'FreeTokenPlace.AddSVT' | translate }}</button>
    </div>
    <div *ngIf="canRecieveTokens" class="start-btn-wrapper">
      <button (click)="showReceiveTokensModalAsync()" class="material-btn">{{ 'FreeTokenPlace.Receive' | translate }} {{event.tokenTicker}}</button>
    </div>
  </div>
</div>
