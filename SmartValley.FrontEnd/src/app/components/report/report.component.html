<div class="container" *ngIf="report">
  <div class="row mx-auto">
    <div class="col-8 sm-title">
      <h1>{{ 'Report.Title' | translate }}</h1>
    </div>
  </div>
  <div class="row mx-auto">
    <div class="report-card col-12">
      <div class="report-content">
        <div class="main-info col-4">
          <img src="{{projectImageUrl}}" style="width: 128px;"/>
        </div>
        <div class="description col-5">
          <div class="main-info__title">
            <span>{{report.name}}</span>
            <span>{{report.area}}</span>
          </div>
        </div>
        <div class="scoring col-3">
          <div class="scoring-container">
            <span>{{ 'Report.ScoringRating' | translate }}</span>
            <span *ngIf="report.score" class="score {{projectService.colorOfProjectRate(report.score)}}">{{report.score.toFixed(0)}}</span>
            <span *ngIf="!report.score">{{ 'Report.InProgress' | translate }}</span>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="row mx-auto">
    <ngb-tabset #reportTabSet (tabChange)="onMainTabChanged($event)" class="col-12 info">
      <ngb-tab id="form" title="{{ 'Report.Form' | translate }}">
        <ng-template ngbTabContent>
          <div class="sw-card sw-content sw-main-info">
            <div class="row">
              <span class="col-3 offset-1">{{ 'Report.Name' | translate }}:</span>
              <span class="col-8">{{report.name}}</span>
            </div>
            <div class="row">
              <span class="col-3 offset-1">{{ 'Report.ProjectArea' | translate }}:</span>
              <span class="col-8">{{report.area}}</span>
            </div>
            <div class="row">
              <span class="col-3 offset-1">{{ 'Report.Description' | translate }}:</span>
              <span class="col-8">{{report.description}}</span>
            </div>
            <div class="row">
              <span class="col-3 offset-1">{{ 'Report.Status' | translate }}:</span>
              <span class="col-8">{{report.status}}</span>
            </div>
            <div class="row">
              <span class="col-3 offset-1">{{ 'Report.WhitePaperLink' | translate }}:</span>
              <app-nullable-link [href]="report.whitePaperLink" class="col-8"></app-nullable-link>
            </div>
          </div>

          <div class="sw-card sw-content">
            <div class="row row-title">
              <h3 class="col-10 offset-1">{{ 'Report.Team' | translate }}</h3>
            </div>
            <div *ngFor="let member of teamMembers;">
              <div class="row">
                <span class="col-1 offset-1">{{EnumTeamMemberType[member.memberType]}}:</span>
                <span class="col-3" style="margin-left: 2em;">{{member.fullName}}</span>
                <span class="col-2 offset-1 social-group">
                  <a *ngIf="member.facebookLink" href="{{member.facebookLink}}" style="margin-right: 1em;">
                    <i class="fa fa-facebook" aria-hidden="true"></i>
                  </a>
                  <a *ngIf="member.linkedInLink" href="{{member.linkedInLink}}">
                    <i class="fa fa-linkedin" aria-hidden="true"></i>
                  </a>
                </span>
              </div>
            </div>
          </div>
          <div class="sw-card sw-content">
            <div class="row row-title">
              <h3 class="col-10 offset-1">{{ 'Report.LegalPart' | translate }}</h3>
            </div>
            <div class="row">
              <span class="col-3 offset-1">{{ 'Report.Incorporation' | translate }}:</span>
              <span class="col-5">{{report.country}}</span>
            </div>
          </div>
          <div class="sw-card sw-content">
            <div class="row row-title">
              <h3 class="col-10 offset-1">{{ 'Report.Finance' | translate }}</h3>
            </div>
            <div class="row" style="padding-bottom: 0;">
              <span class="col-3 offset-1">{{ 'Report.Investments' | translate }}:</span>
            </div>
            <div class="row sub-row">
              <span class="col-3 offset-1">{{ 'Report.SoftCap' | translate }}:</span>
              <span class="col-5">{{report.softCap}}</span>
            </div>
            <div class="row sub-row">
              <span class="col-3 offset-1">{{ 'Report.HardCap' | translate }}:</span>
              <span class="col-5">{{report.hardCap}}</span>
            </div>
            <div class="row">
              <span class="col-3 offset-1">{{ 'Report.FinancialModelLink' | translate }}:</span>
              <app-nullable-link [href]="report.financeModelLink" class="col-5"></app-nullable-link>
            </div>
            <div class="row">
              <span class="col-3 offset-1">{{ 'Report.AttractedInvestments' | translate }}:</span>
              <span *ngIf="report.attractedInvestments; else noAttract" style="color:green;"
                    class="col-5">{{ 'Common.Yes' | translate }}</span>
              <ng-template #noAttract>
                <span style="color:red;" class="col-5">{{ 'Common.No' | translate }}</span>
              </ng-template>
            </div>
          </div>
          <div class="sw-card sw-content">
            <div class="row row-title">
              <h3 class="col-10 offset-1">{{ 'Report.Tech' | translate }}</h3>
            </div>
            <div class="row">
              <span class="col-3 offset-1">{{ 'Report.Blockchain' | translate }}:</span>
              <span class="col-5">{{report.blockChainType}}</span>
            </div>
            <div class="row">
              <span class="col-3 offset-1">{{ 'Report.MvpLink' | translate }}:</span>
              <app-nullable-link [href]="report.mvpLink" class="col-5"></app-nullable-link>
            </div>
          </div>
          <div style="margin-left: calc(4em - 5px);" class="submit-button row">
            <button class="trans-btn col-3 btn btn-primary"
                    style="padding-top: 1em; padding-bottom: 1em;"
                    (click)="showEstimates()">
              {{ 'Report.ExpertEstimates' | translate }}
              <i class="fa fa-arrow-right" aria-hidden="true"></i>
            </button>
          </div>
        </ng-template>
      </ngb-tab>
      <ngb-tab id="estimates" title="{{ 'Report.ExpertEstimates' | translate }}">
        <ng-template ngbTabContent>
          <div class="content sw-card sw-content">
            <mat-tab-group (selectedTabChange)="onExpertiseTabChanged($event)">
              <mat-tab label="{{ 'Common.Hr' | translate }}">
                <span>{{ 'Report.HrAvg' | translate }}:</span>
                <span *ngIf="expertiseAreaAverageScore != null; else elseBlock"
                      class="{{projectService.colorOfHrScore(expertiseAreaAverageScore)}}">{{expertiseAreaAverageScore.toFixed(2)}}</span>
                <ng-template #elseBlock><span>{{ 'Report.InProgressLower' | translate }}</span></ng-template>
                <app-questions [questions]="questions"></app-questions>
              </mat-tab>
              <mat-tab label="{{ 'Common.Lawyer' | translate }}">
                <span>{{ 'Report.LawyerAvg' | translate }}:</span>
                <span *ngIf="expertiseAreaAverageScore != null; else elseBlock"
                      class="{{projectService.colorOfLawyerScore(expertiseAreaAverageScore)}}">{{expertiseAreaAverageScore.toFixed(2)}}</span>
                <ng-template #elseBlock><span>{{ 'Report.InProgressLower' | translate }}</span></ng-template>
                <app-questions [questions]="questions"></app-questions>
              </mat-tab>
              <mat-tab label="{{ 'Common.Analyst' | translate }}">
                <span>{{ 'Report.AnalystAvg' | translate }}:</span>
                <span *ngIf="expertiseAreaAverageScore != null; else elseBlock"
                      class="{{projectService.colorOfAnalystScore(expertiseAreaAverageScore)}}">{{expertiseAreaAverageScore.toFixed(2)}}</span>
                <ng-template #elseBlock><span>{{ 'Report.InProgressLower' | translate }}</span></ng-template>
                <app-questions [questions]="questions"></app-questions>
              </mat-tab>
              <mat-tab label="{{ 'Common.TechnicalExpert' | translate }}">
                <span>{{ 'Report.TechnicalExpertAvg' | translate }}:</span>
                <span *ngIf="expertiseAreaAverageScore != null; else elseBlock"
                      class="{{projectService.colorOfTechnicalScore(expertiseAreaAverageScore)}}">{{expertiseAreaAverageScore.toFixed(2)}}</span>
                <ng-template #elseBlock><span>{{ 'Report.InProgressLower' | translate }}</span></ng-template>
                <app-questions [questions]="questions"></app-questions>
              </mat-tab>
            </mat-tab-group>
          </div>
          <div style="margin-left: calc(4em - 5px);" class="submit-button row">
            <button class="trans-btn col-3 btn btn-primary"
                    (click)="showForm()">
              <i class="fa fa-arrow-left" aria-hidden="true"></i>
              {{ 'Report.Form' | translate }}
            </button>
          </div>
        </ng-template>
      </ngb-tab>
    </ngb-tabset>
  </div>
</div>
